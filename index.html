<script>
  const xhr = new XMLHttpRequest();
  xhr.open("GET", `https://ipinfo.io/json`);
  xhr.send();
  xhr.responseType = "json";
  xhr.onload = () => {
    if (xhr.readyState == 4 && xhr.status == 200) {
        const data = xhr.response;
        //"data.ip"でIPです。
        //"data.city"や"data.region"で地域を吸い出せます。
        //それで処理を書いてください。
        alert(`${data.ip}`);
      } else {
        console.log(`Error: ${xhr.status}`);
      }
  };
</script>
